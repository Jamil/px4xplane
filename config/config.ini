; PX4-XPlane Configuration File
; File Version: 1.2
; Date Created: December 10, 2023
; This file configures the mapping of motor and servo channels from PX4 to X-Plane.

; General Instructions:
; - Specify the configuration name for UI display.
; - Define each aircraft type with its specific channel mappings.
; - Ensure the mappings correspond to your specific setup.
; - Visit the GitHub repository (alireza787b/px4xplane) for more information and updates.


; Configuration Name (Displayed in UI)
; Change this name to switch between different aircraft configurations.(eg. Ehang4 or Cessna172)
config_name = Ehang4



;------------------------------------------------------------------------------------------
;------------------------------------------------------------------------------------------
;------------------------------------------------------------------------------------------

[Ehang4]
; Configuration for Quadcopter channels. Each channel configuration includes:
; - Dataref: The data reference name in X-Plane.
; - Type: The data type (e.g., float, floatArray).
; - Array Indices: The indices for array data types (use 0 for non-array types).
; - Range: The range of values, specified as [min max] without a comma.
; - Description: A brief description of the channel's purpose and usage.

; Motor 1 (PX4 Motor 1 mapped to X-Plane Motor 1)
; Dataref: sim/flightmodel/engine/ENGN_thro_use ([array indices + 1] is the engine number)
; Type: floatArray
; Range: [-1 1] (idle (0) to full throttle Foreward (+1) )
; Description: Controls the throttle of Motor 1.
channel0 = sim/flightmodel/engine/ENGN_thro_use, floatArray, [0], [-1 1]

; Motor 2 (PX4 Motor 2 mapped to X-Plane Motor 2)
; Dataref: sim/flightmodel/engine/ENGN_thro_use ([array indices + 1] is the engine number)
; Type: floatArray
; Range: [-1 1] (idle (0) to full throttle Foreward (+1) )
; Description: Controls the throttle of Motor 2.
channel1 = sim/flightmodel/engine/ENGN_thro_use, floatArray, [1], [-1 1]

; Motor 3 (PX4 Motor 3 mapped to X-Plane Motor 3)
; Dataref: sim/flightmodel/engine/ENGN_thro_use ([array indices + 1] is the engine number)
; Type: floatArray
; Range: [-1 1] (idle (0) to full throttle Foreward (+1) )
; Description: Controls the throttle of Motor 3.
channel2 = sim/flightmodel/engine/ENGN_thro_use, floatArray, [2], [-1 1]

; Motor 4 (PX4 Motor 4 mapped to X-Plane Motor 4)
; Dataref: sim/flightmodel/engine/ENGN_thro_use ([array indices + 1] is the engine number)
; Type: floatArray
; Range: [-1 1] (idle (0) to full throttle Foreward (+1) )
; Description: Controls the throttle of Motor 4.
channel3 = sim/flightmodel/engine/ENGN_thro_use, floatArray, [3], [-1 1]



[Cessna172]
# Configuration for FixedWing channels. Each channel configuration includes:
# - Dataref: The data reference name in X-Plane.
# - Type: The data type (e.g., float, floatArray).
# - Array Indices: The indices for array data types (use 0 for non-array types).
# - Range: The range of values, specified as [min max] without a comma.
# Multiple datarefs for a single channel can be separated by a pipe (|).

# Aileron Left (Servo 1) (Usually seen from front of plane in X-Plane)
# Datarefs: sim/flightmodel/controls/wing2l_ail1def | sim/flightmodel/controls/wing1l_ail1def
# Type: float
# Range: [-20 15] (degrees of deflection)
channel0 = sim/flightmodel/controls/wing2l_ail1def, float, 0, [-20 15] | sim/flightmodel/controls/wing1l_ail1def, float, 0, [-20 15]

# Aileron Right (Servo 2) (Usually seen from front of plane in X-Plane)
# Datarefs: sim/flightmodel/controls/wing2r_ail1def | sim/flightmodel/controls/wing1r_ail1def
# Type: float
# Range: [-20 15] (degrees of deflection)
channel1 = sim/flightmodel/controls/wing2r_ail1def, float, 0, [-20 15] | sim/flightmodel/controls/wing1r_ail1def, float, 0, [-20 15]

# Elevator (Servo 3)
# Dataref: sim/flightmodel/controls/hstab1_elv1def
# Type: float
# Range: [-20 15] (degrees of deflection)
channel2 = sim/flightmodel/controls/hstab1_elv1def, float, 0, [-20 15]

# Throttle (Motor 1)
# Dataref: sim/flightmodel/engine/ENGN_thro_use ([array indices + 1] is the engine number)
# Type: floatArray
# Range: [-1 1] (idle (0) to full throttle Foreward (+1) )
channel3 = sim/flightmodel/engine/ENGN_thro_use, floatArray, [0], [-1 1]

# Rudder and Steering Gear (Servo 4)
# Datarefs: sim/flightmodel/controls/vstab1_rud1def | sim/flightmodel2/gear/tire_steer_command_deg
# Type: float | floatArray
# Range: [-20 20] (degrees of deflection) | [-10 10] (degrees of steering)
channel4 = sim/flightmodel/controls/vstab1_rud1def, float, 0, [-20 20] | sim/flightmodel2/gear/tire_steer_command_deg, floatArray, [0], [-10 10]
